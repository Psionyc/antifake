# AntiFake Presentation

## Introduction

AntiFake is a web application that analyses the authenticity of news articles. It was built with **Next.js 15**, **React 19**, and **TypeScript**. The project integrates **LangChain** with **OpenAI** to evaluate articles and provides a chat interface where users can submit text or URLs for checking. The system also records scores in a MongoDB database and displays overall statistics.

This document walks you through the codebase, the technologies used, and how you can present the project to others. It is meant for students new to the repository who need a clear picture of how the app works from end to end.

## Technologies

- **Next.js 15** – App Router setup with server and client components.
- **React 19** – latest React APIs for interactive UI.
- **TypeScript 5** – static typing across the entire project.
- **Tailwind CSS** – utility‑first styling with a small animated background.
- **Framer Motion** – simple page animations.
- **LangChain** and **OpenAI** – language‑model pipeline used to generate the fake‑news score.
- **Recharts** – charts used in the statistics page.
- **MongoDB with Mongoose** – persistent storage for analysed articles.
- **article-parser** – fetches article text from URLs.
- **google-it** – quick Google searches to check for credible domains.
- **Fly.io** – deployment using the configuration in `fly.toml`.

## Getting Started

1. Install dependencies with `pnpm install`.
2. Run `pnpm dev` to start the development server.
3. Open `http://localhost:3000` in a browser.
4. The chat page (`/chat`) lets you paste text, upload an image for OCR, or enter a URL. The model returns a "Genuine Score" and bullet‑point reasoning.
5. The statistics page (`/stats`) shows credibility scores by news source and a pie chart of genuine vs not‑genuine articles.

Environment variables are loaded by Next.js. For local testing you need `NEXT_PUBLIC_OPENAI_KEY` for the OpenAI API. MongoDB connection details are read from `MONGODB_URI`.

## Codebase Walkthrough

```
src/
  app/            # Next.js routes and pages
  components/     # Reusable React components
  lib/            # Utility and service modules
  types/          # TypeScript declarations
```

### Pages

- `src/app/layout.tsx` – Root layout that loads the Poppins font and applies global styles.
- `src/app/page.tsx` – Animated landing page with links to the chat and stats sections.
- `src/app/chat/page.tsx` – Client component that manages the chat UI and communicates with API routes.
- `src/app/stats/page.tsx` – Dashboard that fetches aggregated results from MongoDB and shows charts.

### Components

- `ChatInput.tsx` – Input box with buttons to paste from the clipboard and upload an image. It performs OCR through an external API and forwards the text to the parent component.
- `MessageList.tsx` – Displays chat messages with simple Markdown formatting.

### API Routes

- `api/process` – POST endpoint that accepts text or a URL. It fetches article content if a URL is supplied and uses Google search to find credible domains.
- `api/search` – POST endpoint for quickly looking up credible sources from a query string.
- `api/news` – Stores and aggregates news authenticity results in MongoDB.

### Library Modules

- `lib/ai.ts` – Sets up the LangChain chat model and defines `initAntiFakeAgent`, the core function that evaluates an article and outputs the fake‑news score.
- `lib/article.ts` – Fetches article text from a given URL using `article-parser`.
- `lib/googleSearch.ts` – Runs a lightweight Google search and extracts domain names of credible sources.
- `lib/db.ts` – Connects to MongoDB via Mongoose and defines the `News` schema for storing results.
- `lib/utils.ts` – Helper utilities such as `getBaseDomain` and a Tailwind class name merger.

### Styles and Configuration

- Global styles live in `src/app/globals.css` and include an animated background.
- Tailwind is configured through `postcss.config.mjs` and `tailwind.config.js` (generated by `shadcn`).
- `tsconfig.json` sets up module resolution and path aliases (`@/` pointing to `src/`).
- `next.config.ts` uses `output: 'standalone'` so the app can run in a Docker container.
- The `fly.toml` file holds the Fly.io deployment settings.

## Development Tips

- Client components (such as the chat) are marked with `"use client"` and can use React state and browser APIs.
- Server functions live inside API routes or are invoked directly from server components.
- When modifying TypeScript files the project automatically type‑checks during `pnpm dev`.
- Use MongoDB Compass or the Mongo shell to inspect saved news records locally.
- The statistics page uses Clearbit logos to show network icons. Images are loaded from any HTTPS domain as defined in `next.config.ts`.

## Presenting the Project

When demonstrating AntiFake to supervisors:

1. **Overview** – Explain that the user can submit any news text or link, the backend fetches the article, performs credibility checks, and returns a score along with reasoning.
2. **Live Demo** – Navigate to `/chat`. Paste a sample article or upload an image. Show how the bot responds with a Genuine Score and bullet points about the content.
3. **Data Recording** – Mention that each analysed article is stored with its source domain, score, and the full text in MongoDB (see `db.ts` and the `news` API route).
4. **Statistics** – Visit `/stats` to highlight aggregated results. Demonstrate the pie chart of genuine vs not‑genuine articles and the list of news networks with average scores.
5. **Technology Stack** – Point out that the project relies on OpenAI via LangChain, Next.js for server/client rendering, and Mongoose for data persistence.
6. **Extensibility** – Note that additional credibility checks or model prompts can be added in `lib/ai.ts` and new charts can be added to the stats page.

## Conclusion

The AntiFake codebase combines a modern React stack with AI services to create an interactive fake news detector. Use this presentation and the provided comments in the source files to guide your exploration of the project. With the outlined technologies and file structure you should be able to modify, extend, and confidently present the application.

